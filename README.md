# M5STICKC_raptimer_1.0.0 試作ver

これはM5StickCとToFセンサーを使用しミニ四駆用に作成したラップタイマー用プログラムです。
ToFセンサーを使用したことにより、反射板無しで運用することが可能です。
光の外乱によって不要動作が発生しないことを期待しています。
スタート時に基準となる距離を自動で設定するため、移設しても設定・調整不要で動作出来ます。
センサーの更新速度が16msec程度の為、最高速が出る場所に設置すると反応しない可能性があります。

使用方法
※EEPROMから設定値を読み取ります。EEPROMを初期化するため、初回起動時はボタンA(正面のボタン)を押しながら起動してください。

何らかの方法で、ToFセンサーをミニ四駆が通る場所に向けて設置します。

raptimer
Aボタンを押すとwaitからreadyに変化します。
この時に一定の距離より測定値が短くなるとスタートします。
ストップも同じとなります。

test
距離と更新速度を表示します。
うまく反応しないときは、このモードで狙ったタイミングで距離が変化するか確認してください。


setting
Bluetoothシリアルで設定ができます。
Bluetoothシリアルの使い方は調べてください。

以下コマンド一覧です
"[ ]"は任意の値を入力してください。
"help;"使い方が返信されます。
"list;"EEPROMの値が表示されます。
"SBTDN,[ ]" Bluetoothのデバイス名を変更できます。
"RT_WC,[ ];"トリガの距離となる基準を決めるための測定回数　多いほどwaitの時間が長くなりますが、誤作動が減ります　byteの型で入力してください。
"RT_WD,[ ];"トリガの距離となる基準を決めるための安定するまでの距離 少ないほどwaitの時間が長くなりますが、誤作動が減ります(mm) byteの型で入力してください。
"RT_TD,[ ];"トリガの距離を決めます。少ないほど反応しやすくなりますが、誤作動が増えます(mm) byteの型で入力してください。
